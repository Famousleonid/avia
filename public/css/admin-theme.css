/* =========================================================
   ADMIN UI-KIT (one file)
   Works with: data-bs-theme="dark|light"
   Base app background: #232525
   ========================================================= */

/* ---------- Global base background (no seams) ---------- */
html, body,
.container-fluid,
.page-layout{
    background-color: #232525 !important;
}


/* =========================================================
   THEME TOKENS Dark
   ========================================================= */
:root{
    --dir-bg: #232525;

    --dir-radius-lg: .75rem;
    --dir-radius-md: .6rem;

    --dir-border: rgba(255,255,255,.10);
    --dir-border-2: rgba(255,255,255,.12);

    --dir-topbar-bg: linear-gradient(180deg, rgba(33,37,41,.92), rgba(52,58,64,.80));
    --dir-panel-bg:  linear-gradient(180deg, rgba(33,37,41,.92), rgba(52,58,64,.72));

    --dir-table-bg: rgba(33,37,41,.98);
    --dir-thead-bg: #343A40;

    --dir-modal-bg: linear-gradient(180deg, rgba(73,80,87,.92), rgba(52,58,64,.88));

    --dir-text: rgba(248,249,250,.92);
    --dir-muted: rgba(248,249,250,.55);

    --dir-input-bg: rgba(33,37,41,.85);
    --dir-input-border: rgba(255,255,255,.15);
    --dir-input-text: rgba(248,249,250,.95);
    --dir-input-ph: rgba(248,249,250,.45);

    --dir-row-hover: rgba(13,110,253,.10);
    --dir-row-active: rgba(13,110,253,.18);

    --dir-acc-item-bg: rgba(33,37,41,.92);
    --dir-acc-item-bg2: rgba(52,58,64,.82);

    --dir-acc-btn-bg: rgba(33,37,41,.88);
    --dir-acc-btn-bg2: rgba(52,58,64,.74);

    --dir-acc-open-bg: rgba(13,110,253,.10);
    --dir-acc-hover-bg: rgba(13,110,253,.08);

    --dir-acc-border: var(--dir-border);
    --dir-acc-border2: var(--dir-border-2);

    --dir-acc-shadow: 0 6px 10px rgba(0,0,0,.30);


}

/* ---------- LIGHT (серый, без белого) ---------- */
html[data-bs-theme="light"]{

    --dir-bg: #C8C8C8;

    --dir-border: rgba(0,0,0,.10);
    --dir-border-2: rgba(0,0,0,.12);

    --dir-topbar-bg: linear-gradient(180deg, rgba(233,236,239,.92), rgba(222,226,230,.88));
    --dir-panel-bg:  linear-gradient(180deg, rgba(233,236,239,.92), rgba(222,226,230,.85));

    --dir-table-bg: rgba(233,236,239,.98);
    --dir-thead-bg: rgba(215,219,223,.98);

    --dir-modal-bg: linear-gradient(180deg, rgba(222,226,230,.95), rgba(206,212,218,.90));

    --dir-text: rgba(33,37,41,.92);
    --dir-muted: rgba(33,37,41,.55);

    --dir-input-bg: rgba(233,236,239,.85);
    --dir-input-border: rgba(0,0,0,.15);
    --dir-input-text: rgba(33,37,41,.95);
    --dir-input-ph: rgba(33,37,41,.45);

    --dir-row-hover: rgba(13,110,253,.08);
    --dir-row-active: rgba(13,110,253,.14);

    --dir-acc-item-bg: rgba(233,236,239,.95);
    --dir-acc-item-bg2: rgba(222,226,230,.90);

    --dir-acc-btn-bg: rgba(233,236,239,.92);
    --dir-acc-btn-bg2: rgba(222,226,230,.84);

    --dir-acc-open-bg: rgba(13,110,253,.12);
    --dir-acc-hover-bg: rgba(13,110,253,.08);

    --dir-acc-shadow: 0 4px 8px rgba(0,0,0,.12);

}

/* =========================================================
   PAGE LAYOUT
   ========================================================= */
.dir-page{
    height: 100%;
    display: flex;
    flex-direction: column;
    background: var(--dir-bg) !important;
}

/* =========================================================
   TOPBAR
   ========================================================= */
.dir-topbar{
    border: 1px solid var(--dir-border);
    border-radius: var(--dir-radius-lg);
    background: var(--dir-topbar-bg);
    /*padding: .5rem .75rem;*/
}

/* =========================================================
   PANEL (single scroll container)
   ========================================================= */
.dir-panel{
    border: 1px solid var(--dir-border);
    border-radius: var(--dir-radius-lg);
    background: var(--dir-panel-bg);
    height: calc(100dvh - 140px); /* <-- как у тебя работало */
    overflow-y: auto;
    overflow-x: hidden;
    background-clip: padding-box;
    display: flex;
    flex-direction: column;
}
.dir-header {
    padding: .35rem .75rem;      /* меньше вертикальных отступов */
    min-height: 44px;            /* компактно и ровно */
    display: flex;
    align-items: center;
}



/* =========================================================
   TABLE (UNIVERSAL)
   ========================================================= */
.dir-table{
    background: var(--dir-table-bg) !important;
    color: var(--dir-text) !important;
    border-color: var(--dir-border-2) !important;
}

.dir-table th,
.dir-table td{
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: middle;
    border-color: var(--dir-border-2) !important;
}

.dir-table tbody td{
    background: var(--dir-table-bg) !important;
    color: var(--dir-text) !important;
}

/* sticky header */
.dir-table thead{
    position: sticky;
    top: 0;
    z-index: 12;
}

.dir-table thead th{
    position: sticky;
    top: -1px;
    z-index: 13;
    background: var(--dir-thead-bg) !important;
    color: var(--dir-muted) !important;
    background-clip: padding-box;
    box-shadow: 0 6px 10px rgba(0,0,0,.35);
}

/* light — мягче */
html[data-bs-theme="light"] .dir-table thead th{
    box-shadow: 0 4px 8px rgba(0,0,0,.12);
}

/* hover / active */
.dir-table tbody tr:hover td{
    background: var(--dir-row-hover) !important;
}
.dir-table tbody tr.is-active td{
    background: var(--dir-row-active) !important;
}

/* =========================================================
   INPUTS
   ========================================================= */
.dir-input.form-control{
    background: var(--dir-input-bg);
    border-color: var(--dir-input-border);
    color: var(--dir-input-text);
}
.dir-input.form-control::placeholder{
    color: var(--dir-input-ph);
}
.dir-input.form-control:focus{
    box-shadow: 0 0 0 .2rem rgba(13,110,253,.18);
}

/* =========================================================
   ICON BUTTONS
   ========================================================= */
.dir-btn-icon{
    width: 30px;
    height: 30px;
    padding: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* =========================================================
   MODALS
   ========================================================= */
.dir-modal{
    background: var(--dir-modal-bg) !important;
    color: var(--dir-text);
    border: 1px solid var(--dir-border);
    border-radius: .9rem;
}

.dir-modal .modal-header{
    background: rgba(0,0,0,.10);
    border-bottom: 1px solid var(--dir-border);
}

.dir-modal .form-control{
    background: var(--dir-input-bg);
    color: var(--dir-input-text);
    border-color: var(--dir-input-border);
}

/* close btn in dark */
html[data-bs-theme="dark"] .dir-modal .btn-close{
    filter: invert(1) grayscale(1);
    opacity: .85;
}

/* =========================================================
   EMPTY / NO RESULTS
   ========================================================= */
.dir-empty{
    border: 1px dashed var(--dir-border-2);
    border-radius: var(--dir-radius-md);
    padding: 2rem;
    text-align: center;
    color: var(--dir-muted);
}

/* =========================================================
   SMALL HELPERS
   ========================================================= */
.dir-muted{ color: var(--dir-muted); }
.dir-text{ color: var(--dir-text); }


/*  Accordion */
.accordion{
    --bs-accordion-bg: transparent;
    --bs-accordion-border-color: transparent;
    --bs-accordion-border-radius: var(--dir-radius-lg);
    --bs-accordion-btn-focus-border-color: rgba(13,110,253,.35);
    --bs-accordion-btn-focus-box-shadow: 0 0 0 .2rem rgba(13,110,253,.18);
    --bs-accordion-active-color: var(--dir-text);
    --bs-accordion-active-bg: transparent;
}

/* Item */
.accordion-item{
    background: linear-gradient(180deg, var(--dir-acc-item-bg), var(--dir-acc-item-bg2));
    border: 1px solid var(--dir-acc-border);
    border-radius: var(--dir-radius-md);
    overflow: hidden;
    margin-bottom: .5rem;
}

/* Header button */
.accordion-button{
    background: linear-gradient(180deg, var(--dir-acc-btn-bg), var(--dir-acc-btn-bg2));
    color: var(--dir-text);
    padding: .45rem .75rem;
    border: 0;
    box-shadow: none;
}

/* Hover */
.accordion-button:hover{
    background: linear-gradient(180deg, var(--dir-acc-btn-bg), var(--dir-acc-hover-bg));
}

/* Collapsed state (чуть спокойнее) */
.accordion-button.collapsed{
    color: var(--dir-text);
    box-shadow: none;
}

/* Expanded state (подсветка как active row) */
.accordion-button:not(.collapsed){
    background: linear-gradient(180deg, var(--dir-acc-open-bg), var(--dir-acc-btn-bg2));
    box-shadow: var(--dir-acc-shadow);
}

/* Стрелка */
.accordion-button::after{
    filter: none;
    opacity: .85;
}
html[data-bs-theme="dark"] .accordion-button::after{
    filter: invert(1) grayscale(1);
    opacity: .75;
}

/* Body */
.accordion-body{
    background: rgba(0,0,0,.08);
    border-top: 1px solid var(--dir-acc-border2);
    color: var(--dir-text);
}

/* Чуть уплотняем текст/счетчик */
.accordion-button .group-counter{
    color: var(--dir-muted) !important;
}

/* Внутренние таблицы в аккордеоне — в стиле dirTable */
.accordion-body table{
    background: var(--dir-table-bg) !important;
    color: var(--dir-text) !important;
}

.accordion-body table td,
.accordion-body table th{
    border-color: var(--dir-border-2) !important;
}

/* table-striped в темной теме часто дает белесость — приглушаем */
html[data-bs-theme="dark"] .accordion-body .table-striped > tbody > tr:nth-of-type(odd) > *{
    background-color: rgba(255,255,255,.03) !important;
}

/* Hover строк в таблице */
.accordion-body .table-hover > tbody > tr:hover > *{
    background-color: var(--dir-row-hover) !important;
}

/* Кнопки в action ячейке — чуть компактнее */
.accordion-body .btn.btn-sm{
    padding: .2rem .45rem;
}

/* ------------------ Select2 css ------------------------------ */

html[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-dropdown .select2-search__field{
    background-color: #212529 !important;
    color: #f8f9fa !important;

    /* Chrome/Safari иногда игнорят color и берут text-fill */
    -webkit-text-fill-color: #f8f9fa !important;

    caret-color: #f8f9fa !important;
    border: 1px solid #495057 !important;
    border-radius: 8px !important;
    outline: none !important;
}

html[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-dropdown .select2-search__field::placeholder{
    color: #adb5bd !important;
    -webkit-text-fill-color: #adb5bd !important;
}

/* "No results found" / результаты тоже чтобы читались */
html[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__message{
    color: #adb5bd !important;
}
/* ============================================================================ */
