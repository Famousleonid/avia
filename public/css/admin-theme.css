/* =========================================================
   ADMIN DIRECTORY UI (GLOBAL)  data-bs-theme: dark|light
   ========================================================= */

:root{
    --dir-radius-lg: .75rem;
    --dir-radius-md: .6rem;

    --dir-border: rgba(255,255,255,.10);
    --dir-border-2: rgba(255,255,255,.12);

    --dir-topbar-bg: linear-gradient(180deg, rgba(33,37,41,.92), rgba(52,58,64,.80));
    --dir-panel-bg:  linear-gradient(180deg, rgba(33,37,41,.92), rgba(52,58,64,.72));

    /* table bg = thead bg */
    --dir-table-bg: rgba(33,37,41,.98);

    /* modal gray (lighter) */
    --dir-modal-bg: linear-gradient(180deg, rgba(73,80,87,.92), rgba(52,58,64,.88));

    /* text */
    --dir-text: rgba(248,249,250,.92);
    --dir-muted: rgba(248,249,250,.55);

    /* inputs */
    --dir-input-bg: rgba(33,37,41,.85);
    --dir-input-border: rgba(255,255,255,.15);
    --dir-input-text: rgba(248,249,250,.95);
    --dir-input-ph: rgba(248,249,250,.45);
    --dir-focus-border: rgba(13,110,253,.55);
    --dir-focus-shadow: 0 0 0 .2rem rgba(13,110,253,.18);

    /* row hover / active */
    --dir-row-hover: rgba(13,110,253,.10);
    --dir-row-active: rgba(13,110,253,.18);
}

/* LIGHT theme — всё равно серое, без белого */
:root[data-bs-theme="light"]{
    --dir-border: rgba(0,0,0,.10);
    --dir-border-2: rgba(0,0,0,.12);

    --dir-topbar-bg: linear-gradient(180deg, rgba(233,236,239,.92), rgba(222,226,230,.88));
    --dir-panel-bg:  linear-gradient(180deg, rgba(233,236,239,.92), rgba(222,226,230,.85));

    --dir-table-bg: rgba(233,236,239,.98);

    --dir-modal-bg: linear-gradient(180deg, rgba(222,226,230,.95), rgba(206,212,218,.90));

    --dir-text: rgba(33,37,41,.92);
    --dir-muted: rgba(33,37,41,.55);

    --dir-input-bg: rgba(255,255,255,.70);
    --dir-input-border: rgba(0,0,0,.15);
    --dir-input-text: rgba(33,37,41,.95);
    --dir-input-ph: rgba(33,37,41,.45);

    --dir-row-hover: rgba(13,110,253,.08);
    --dir-row-active: rgba(13,110,253,.14);
}

/* ---------- Directory topbar/panel ---------- */
.dir-topbar{
    border: 1px solid var(--dir-border);
    border-radius: var(--dir-radius-lg);
    background: var(--dir-topbar-bg);
}

.dir-panel{
    border: 1px solid var(--dir-border);
    border-radius: var(--dir-radius-lg);
    background: var(--dir-panel-bg);
    height: calc(100vh - 120px);
    overflow-y: auto;
}

.dir-table-wrap{
    height: calc(100vh - 130px);
    overflow: auto;
    border-radius: var(--dir-radius-md);
}

.dir-search.form-control{
    background-color: var(--dir-input-bg);
    border-color: var(--dir-input-border);
    color: var(--dir-input-text);
}
.dir-search.form-control::placeholder{ color: var(--dir-input-ph); }
.dir-search.form-control:focus{
    border-color: var(--dir-focus-border);
    box-shadow: var(--dir-focus-shadow);
}

.btn-icon{
    width: 30px;
    height: 30px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

/* ---------- Table (bg same as header) ---------- */
#dirTable{
    background: var(--dir-table-bg) !important;
    color: var(--dir-text) !important;
    border-color: var(--dir-border-2) !important;
}

#dirTable th, #dirTable td{
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: middle;
    border-color: var(--dir-border-2) !important;
}

#dirTable tbody td, #dirTable tbody th{
    background: var(--dir-table-bg) !important;
    color: var(--dir-text) !important;
}

#dirTable thead th{
    position: sticky;
    top: 0;
    z-index: 3;
    background: var(--dir-table-bg) !important;
    color: var(--dir-muted) !important;
    box-shadow: 0 6px 10px rgba(0,0,0,.35);
}

#dirTable tbody tr:hover td{ background: var(--dir-row-hover) !important; }
#dirTable tbody tr.is-active td{ background: var(--dir-row-active) !important; }

/* No results */
#dirNoResults{
    border: 1px dashed var(--dir-border-2);
    border-radius: var(--dir-radius-md);
    background: rgba(33,37,41,.20);
    color: var(--dir-text);
}
:root[data-bs-theme="light"] #dirNoResults{
    background: rgba(0,0,0,.04);
}

/* ---------- Modals (gray) ---------- */
.modal-gray{
    background: var(--dir-modal-bg) !important;
    color: var(--dir-text) !important;
    border: 1px solid var(--dir-border) !important;
    border-radius: .9rem;
}
.modal-gray .modal-header{
    background: rgba(0,0,0,.10);
    border-bottom: 1px solid var(--dir-border) !important;
}
.modal-gray .form-control{
    background: rgba(33,37,41,.55);
    color: var(--dir-input-text);
    border-color: var(--dir-input-border);
}
:root[data-bs-theme="light"] .modal-gray .form-control{
    background: rgba(255,255,255,.70);
    color: rgba(33,37,41,.95);
    border-color: rgba(0,0,0,.15);
}
.modal-gray .form-control::placeholder{ color: var(--dir-input-ph); }
.modal-gray .form-control:focus{
    border-color: var(--dir-focus-border);
    box-shadow: var(--dir-focus-shadow);
}
:root[data-bs-theme="dark"] .modal-gray .btn-close{
    filter: invert(1) grayscale(1);
    opacity: .85;
}
